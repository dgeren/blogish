<%

prepDates = pubDate => {
  if(pubDate === null) return { dateDisplay: "Unpublished", dateString: "", timeString: ""};

  // expects date BSON from entry.pubDate

  const dateObj = new Date(pubDate);
  const fullMonth = [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

  const dateString = dateObj.toISOString().substring(0, 10); //  -> "yyyy-mm-dd"
  const timeString = dateObj.toISOString().substring(11, 16); // -> "hh:mm"
  const dateDisplay = `${fullMonth[dateObj.getMonth()]} ${dateObj.getDate()}, ${dateObj.getFullYear()}`;
  
  // dateString & timeString used in editor.ejs to fill publish date and time fields
  return { dateDisplay, dateString, timeString };

}

%>
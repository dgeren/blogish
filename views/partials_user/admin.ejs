<%
const {
  _id, email, role, pseudonym, byline, shortText, longText
} = contributor[0];

// ðŸ”¸ðŸŸ¥ðŸ”¸ is this line VVV needed? If so, move to controller --
const contributorID = pageDetails.blank ? user._id.toString() : contributor[0]._id.toString();
%>  
  
  <h2>Create Acccount</h2>

  <form id="toolbar" class="toolbar" name="toolbar">
    <button id="tools_save" class="tools label" name="save">SAVE</button>
    &nbsp; | &nbsp;
    <button id="tools_preview" class="tools label" name="preview">PREVIEW</button>
    &nbsp; | &nbsp;
    <button id="tools_delete" class="tools label" name="del">DELETE</button>
  </form>

  <section class="editorSection">
    <form id="editor" name="userEditor" action="/createAccount">
      <p class="hint">All fields required.</p>

      <% if(role === "admin") {%>
      <fieldset id="select-role-group" class="form-el editor" name="role">
        <legend>Select a Role:</legend>

        <input type="radio" id="select-contributor" name="selectRole" value="contributor" <%- role === 'contributor' ? 'checked' : ''; %>>
        <label for="select-contributor">Contributor</label><br>

        <% if(role === "editor" ) %>
        <input type="radio" id="select-editor" name="selectRole" value="editor" <%- role === 'editor' ? 'checked' : ''; %>>
        <label for="select-editor">Editor</label><br>
        
        <input type="radio" id="select-admin" name="selectRole" value="admin" <%- role === 'admin' ? 'checked' : ''; %>>
        <label for="select-admin">Administrator</label>
        
        <p class="message" id="error-select-role"></p>
      </fieldset>
      <% } else { %>
      <p>Your role: <%- role %></p>
      <% } %>
      

      <div class="fields">
        <label for="email">Email</label>
        <input type="text" class="form-el editor" id="email" name="email" placeholder="example@service.com" value="<%- email %>" required>
        <p class="message" id="error-email"></p>
      </div>

      <div id="passwordFields">
      <% if(isOwner){ %>

        <div class="fields">
          <label for="password">Password</label>
          <input type="password" class="form-el editor" id="password" name="password" required>
          <p class="hint">8 - 64 characters</p>
          <p class="message" id="error-password"></p>
        </div>
  
        <div class="fields">
          <label for="password2">Password (Confirm)</label>
          <input type="password" class="form-el editor" id="password2" name="password2" required>
          <p class="hint">8 - 64 characters</p>
          <p class="message" id="error-password"></p>
        </div>

      <% } %>
      </div>

      <div class="fields">
        <label for="pseudonym">Pseudonym</label>
        <input type="text" class="form-el editor" name="pseudonym" placeholder="Public-facing name" value="<%- pseudonym %>" required>
        <p class="hint">4 - 64 characters</p>
        <p class="message" id="error-Psuedonym"></p>
      </div>

      <div class="fields">
        <label for="byline">By-Line</label>
        <input type="text" class="form-el editor" name="byline" placeholder="Author extras." value="<%- byline %>" required>
        <p class="hint">12 - 64 characters.</p>
        <p class="message" id="error-byline"></p>
      </div>

      <div class="fields">
        <label for="short-description">Short Description</label>
        <input type="textarea" class="form-el editor" name="shortText" placeholder="Tell our readers a bit about yourself." value="<%- shortText %>" required>
        <p class="hint">12 - 256 characters.</p>
        <p class="message" id="error-short-description"></p>
      </div>
      
      <div class="fields">
        <label for="long-description">Long Description</label>
        <input type="textarea" class="form-el editor" name="longText" placeholder="Tell our readers more detail about yourself." value="<%- longText %>" required>
        <p class="message" id="error-long-description"></p>
      </div>
<!-- ðŸ”¹ stopped here trying to complete the fill admin page
left to do: hide the following items
populate the contributorID
fix the password logic so if the user and contributor ids are the same, the password fields appear
What is this section for? Will it be used for validation when updating a user? Only the password matters -->
      <div class="hidden">
        <input type="text" name="contributorID" id="contributorID" value="<%- contributorID %>">
        <input type="text" name="userID" id="userID" value="<%- user._id %>">
      </div>

  <!-- template in case a new field is needed in the future

      <div class="fields">
        <label for=""></label>
        <input type="textarea" class="form-el editor" name="" placeholder="" required>
        <p class="hint">x - y characters</p>
        <p class="message" id="error-long-"></p>
      </div>
      
  -->

    </section>
    <section class="userPreview">
      

    </section>
  </form>